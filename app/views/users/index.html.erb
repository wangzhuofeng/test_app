<p id="notice"><%= notice %></p>

<h1>Listing Users</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Username</th>
      <th>Email</th>
      <th>Number of Articles</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= gravatar_for(user, size: 30) %></td>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
        <td><%= user.articles.count %></td>
        
        <td><%= link_to ("<span class='glyphicon glyphicon-user' aria-hidden='true'></span> Show").html_safe, user_path(user), class: "btn btn-xs btn-primary" %>
            <%= link_to ("<span class='glyphicon glyphicon-pencil' aria-hidden='true'></span> Edit").html_safe, edit_user_path(user), class: "btn btn-xs btn-warning" %> 
            <%= link_to ("<span class='glyphicon glyphicon-trash' aria-hidden='true'></span> Delete").html_safe, user_path(user), method: :delete, 
                                          data: {confirm: "Are you sure to delete user #{user[:id]}?"}, 
                                          class: "btn btn-xs btn-danger" %></td>
        <td></td>
        <td></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New User', signup_path %>
